

1.项目中使用到分布式锁？
案例：需要生成订单号，----唯一不重复
使用UUID+业务id--或者时间戳+业务id
幂等含义：重复
怎么保证接口的幂等性：怎么保证接口不允许重复调用

怎样生成订单号，怎样保证幂等性，就是怎样保证订单号唯一
1.单点系统：高并发，使用同步代码块或Lock锁机制
2.分布式情况下，就是集群的情况下：高并发时，时间戳可能相同，业务id可能相同，这就可能产生重复订单号

2.怎么使用zk实现分布式锁？
创建临时节点，谁能创建临时节点就能获取锁，怎么释放锁，连接关闭

解决方式一：
大公司，订单号提前生成好，存放在redis环境中，其他服务器从redis中去取订单号信息
解决方式二:
使用分布式锁：分布式情况下，多个jvm保证唯一数据
1.数据库实现分布式锁-----不推荐
2.使用缓存实现分布式锁-----redis实现分布式锁----不推荐--很复杂
3.使用zookeeper实现分布式锁----一般使用这个


